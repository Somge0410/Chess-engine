PIECE_VALUES = {
    'p': -100, 'n': -320, 'b': -330, 'r': -500, 'q': -900, 'k': -20000,
    'P': 100,  'N': 320,  'B': 330,  'R': 500,  'Q': 900,  'K': 20000
}
white_pawn= [[0,  0,  0,  0,  0,  0,  0,  0],\
             [50, 50, 50, 50, 50, 50, 50, 50],\
             [10, 10, 20, 30, 30, 20, 10, 10],\
             [5,  5, 10, 25, 25, 10,  5,  5],\
             [0,  0,  0, 20, 20,  0,  0,  0],\
             [5, -5,-10,  0,  0,-10, -5,  5],\
             [5, 10, 10,-20,-20, 10, 10,  5],\
             [0,  0,  0,  0,  0,  0,  0,  0]]
white_knight=[[-50,-40,-30,-30,-30,-30,-40,-50],\
              [-40,-20,  0,  0,  0,  0,-20,-40],\
              [-30,  0, 10, 15, 15, 10,  0,-30],\
              [-30,  5, 15, 20, 20, 15,  5,-30],\
              [-30,  0, 15, 20, 20, 15,  0,-30],\
              [-30,  5, 10, 15, 15, 10,  5,-30],\
              [-40,-20,  0,  5,  5,  0,-20,-40],\
              [-50,-40,-30,-30,-30,-30,-40,-50]]
white_bishop=[[-20,-10,-10,-10,-10,-10,-10,-20],\
              [-10,  0,  0,  0,  0,  0,  0,-10],\
              [-10,  0,  5, 10, 10,  5,  0,-10],\
              [-10,  5,  5, 10, 10,  5,  5,-10],\
              [-10,  0, 10, 10, 10, 10,  0,-10],\
              [-10, 10, 10, 10, 10, 10, 10,-10],\
              [-10,  5,  0,  0,  0,  0,  5,-10],\
              [-20,-10,-10,-10,-10,-10,-10,-20]]    
white_rook= [[0,  0,  0,  0,  0,  0,  0,  0],\
             [5, 10, 10, 10, 10, 10, 10,  5],\
             [-5,  0,  0,  0,  0,  0,  0, -5],\
             [-5,  0,  0,  0,  0,  0,  0, -5],\
             [-5,  0,  0,  0,  0,  0,  0, -5],\
             [-5,  0,  0,  0,  0,  0,  0, -5],\
             [-5,  0,  0,  0,  0,  0,  0, -5],\
             [0,  0,  0,  5,  5,  0,  0,  0]]
white_queen=[[-20,-10,-10, -5, -5,-10,-10,-20],\
             [-10,  0,  0,  0,  0,  0,  0,-10],\
             [-10,  0,  5,  5,  5,  5,  0,-10],\
             [-5,  0,  5,  5,  5,  5,  0, -5],\
             [0,  0,  5,  5,  5,  5,  0, -5],\
             [-10,  5,  5,  5,  5,  5,  0,-10],\
             [-10,  0,  5,  0,  0,  0,  0,-10],\
             [-20,-10,-10, -5, -5,-10,-10,-20]]
middle_game_white_king=[[-30,-40,-40,-50,-50,-40,-40,-30],\
                        [-30,-40,-40,-50,-50,-40,-40,-30],\
                        [-30,-40,-40,-50,-50,-40,-40,-30],\
                        [-30,-40,-40,-50,-50,-40,-40,-30],\
                        [-20,-30,-30,-40,-40,-30,-30,-20],\
                        [-10,-20,-20,-20,-20,-20,-20,-10],\
                        [20, 20,  0,  0,  0,  0, 20, 20],\
                        [20, 30, 10,  0,  0, 10, 30, 20]]
end_game_white_king=[[-50,-40,-30,-20,-20,-30,-40,-50],\
                     [-30,-20,-10,  0,  0,-10,-20,-30],\
                     [-30,-10, 20, 30, 30, 20,-10,-30],\
                     [-30,-10, 30, 40, 40, 30,-10,-30],\
                     [-30,-10, 30, 40, 40, 30,-10,-30],\
                     [-30,-10, 20, 30, 30, 20,-10,-30],\
                     [-30,-30,  0,  0,  0,  0,-30,-30],\
                     [-50,-30,-30,-30,-30,-30,-30,-50]]
PIECE_PST={
    'P': white_pawn,
    'N': white_knight,
    'B': white_bishop,
    'R': white_rook,
    'Q': white_queen,
    'K': middle_game_white_king,
}
def evalutate_position(position):
    score=0
    for r,row in enumerate(position.board):
        for c,piece in enumerate(row):
            if piece in PIECE_VALUES:
                score+=PIECE_VALUES[piece]+get_positional_score(piece,r,c)
    return score

def get_positional_score(piece,r,c):
    piece_type=piece.upper()
    pst =PIECE_PST.get(piece_type)
    if pst is None:
        return 0
    if piece.isupper():
        return pst[r][c]
    else:
        return -pst[7-r][c]
   
    

